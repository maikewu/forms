{
  "general": {
    "name": {
      "en": "Service Report",
      "de": "Montagebericht"
    }
  },
  "formStructure": {
    "01_generalInformation": {
      "isForm": true,
      "ui": "CARD",
      "initialExpand": true,
      "cardHeadline": {
        "en": "General Information",
        "de": "Allgemeine Informationen"
      },
      "stateIndicator": true,
      "hasNextStep": true,
      "children":{
        "orderNumber": {
          "fieldType": "INPUT_TEXT",
          "label": {
            "de": "Auftrag",
            "en": "Work Order"
          },
          "required": true,
          "width": 0.5,
          "hiddenInPdf": false,
          "hideInPdfIfEmpty": false,
          "disabled": false
        },
        "technician": {
          "fieldType": "REMBERG_USER_SELECT",
          "label": {
            "de": "Servicetechniker",
            "en": "Service technician"
          },
          "hiddenInPdf": false,
          "hideInPdfIfEmpty": false,
          "width": 0.5,
          "autofillCurrentUser": true,
          "printEmailAddress": false,
          "required": false
        },
        "customer": {
          "fieldType": "REMBERG_CUSTOMER_SELECT",
          "required": true,
          "width": 0.5,
          "label": {
            "de": "Kunde",
            "en": "Customer"
          },
          "messages": {
            "onChange": [
              {
                "to": "01_generalInformation",
                "actions": [
                  {
                    "name": "PATCH_DATA",
                    "_dynamicData": {
                      "input": {
                        "_field": "customer",
                        "_propertyName": "customer"
                      },
                      "output": {
                        "_field": "asset",
                        "_propertyName": "customerFilter"
                      }
                    }
                  }
                ]
              },
              {
                "to": "07-signatureTechnician",
                "actions": [
                  {
                    "name": "PATCH_DATA",
                    "_dynamicData": {
                      "input": {
                        "_field": {
                          "_field": {
                            "_field": {
                              "_field": {
                                "_field": "customer",
                                "_propertyName": "customer"
                              },
                              "_functionName": "GET_ACCOUNT"
                            },
                            "_propertyName": "company"
                          },
                          "_propertyName": "billingAddress"
                        },
                        "_propertyName": "city"
                      },
                      "output": {
                        "_formArray": "signature_technician",
                        "_formArrayIndex": 0,
                        "_propertyName": "location"
                      }
                    }
                  }
                ]
              },
              {
                "to": "08-signatureCustomer",
                "actions": [
                  {
                    "name": "PATCH_DATA",
                    "_dynamicData": {
                      "input": {
                        "_field": {
                          "_field": {
                            "_field": {
                              "_field": {
                                "_field": "customer",
                                "_propertyName": "customer"
                              },
                              "_functionName": "GET_ACCOUNT"
                            },
                            "_propertyName": "company"
                          },
                          "_propertyName": "billingAddress"
                        },
                        "_propertyName": "city"
                      },
                      "output": {
                        "_formArray": "signature_customer",
                        "_formArrayIndex": 0,
                        "_propertyName": "location"
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        "customercontactperson_freetext": {
          "fieldType": "INPUT_TEXT",
          "label": {
            "de": "Ansprechpartner",
            "en": "Contact Person"
          },
          "required": false,
          "width": 0.5,
          "hiddenInPdf": false,
          "hideInPdfIfEmpty": true,
          "disabled": false
        },
        "asset": {
          "fieldType": "REMBERG_ASSET_SELECT",
          "required": true,
          "disableSelection": false,
          "hidePreselection": false,
          "showUnassigned": true,
          "editShowInput": true,
          "registerAssetChange": true,
          "hiddenInPdf": false,
          "width": 0.5,
          "label": {
            "de": "Maschine",
            "en": "Machine"
          }
        },
        "year": {
          "fieldType": "INPUT_TEXT",
          "label": {
            "de": "Baujahr",
            "en": "Construction year"
          },
          "required": false,
          "width": 0.5,
          "hiddenInPdf": false,
          "hideInPdfIfEmpty": false,
          "disabled": false
        }
      }
    },
    "02_performed_tasks": {
      "isForm": true,
      "ui": "CARD",
      "initialExpand": true,
      "unbreakable": true,
      "cardHeadline": {
        "en": "Performed Tasks",
        "de": "Durchgeführte Tätigkeiten"
      },
      "stateIndicator": true,
      "hasNextStep": true,
      "children": {
        "tasks": {
          "fieldType": "REMBERG_TASKS",
          "label": {
            "de": "Durchgeführte Tätigkeiten",
            "en": "Performed Tasks"
          },
          "unbreakable": false,
          "required": false
        }
      },
      "messages": {
        "onLoaded": [
          {
            "to": "ROOT",
            "actions": [
              {
                "name": "PATCH_DATA",
                "_dynamicData": {
                  "input": {
                    "_field": "ARGS",
                    "_propertyName": "tasks",
                    "_functionName": "GET_TASKS"
                  },
                  "output": {
                    "_field": "tasks",
                    "_propertyName": ""
                  }
                }
              }
            ]
          }
        ]
      }
    },
    "04_work_times": {
      "isForm": true,
      "ui": "CARD",
      "initialExpand": true,
      "unbreakable": true,
      "cardHeadline": {
        "en": "Travel and Working Times",
        "de": "Reise- und Arbeitszeiten"
      },
      "stateIndicator": true,
      "hasNextStep": true,
      "children": {
        "tavelAndWorkingTimes": {
          "fieldType": "REMBERG_WORK_TIMES",
          "label": {
            "de": "Reise- und Arbeitszeiten",
            "en": "Travel and Working Times"
          },
          "unbreakable": true,
          "required": true
        }
      }
    },
    "06_comments": {
      "isForm": true,
      "ui": "CARD",
      "initialExpand": true,
      "unbreakable": true,
      "cardHeadline": {
        "en": "Comments",
        "de": "Bemerkungen"
      },
      "stateIndicator": true,
      "hasNextStep": true,
      "children": {
        "commentsGeneral": {
          "fieldType": "TEXTAREA",
          "label": {
            "de": "Kommentar",
            "en": "Comment"
          },
          "hiddenInPdf": false,
          "hideInPdfIfEmpty": true,
          "required": false,
          "width": 1,
          "minRows": 1
        },
        "orderCompleted": {
          "fieldType": "CHECKBOX",
          "label": {
            "de": "Auftrag erledigt",
            "en": "Work order completed"
          },
          "required": true,
          "hideInPdfIfEmpty": true,
          "width": 0.5,
          "hiddenInPdf": false
        },
        "followUp":{
          "fieldType": "INPUT_TEXT",
          "label": {
            "de": "Folgetermin",
            "en": "Follow-up appointment"
          },
          "required": false,
          "width": 0.5,
          "hiddenInPdf": false,
          "hideInPdfIfEmpty": true
        },
        "disclaimer_Material":{
          "fieldType": "HELP_TEXT",
          "hiddenInPdf": false,
          "width": 1,
          "text": {
            "de": "\nGgf. benötigtes Material wird in einem separaten Materialnachweis ausgewiesen. Die Abrechnung erfolgt gemäß unseren Service-Verrechnungssätzen zum jeweils aktuellsten Stand.\n",
            "en": "\nAny material required will be shown in a separate material certificate. Invoicing will be carried out in accordance with our service charge rates at the most current level.\n"
          }
        },
        "disclaimer_header":{
          "fieldType": "H3",
          "hiddenInPdf": false,
          "width": 1,
          "text": {
            "de": "Bescheinigung",
            "en": "Verification"
          }
        },
        "disclaimer_Bescheinigung":{
          "fieldType": "HELP_TEXT",
          "hiddenInPdf": false,
          "width": 1,
          "text": {
            "de": "Wir sind mit der Ausführung der Arbeiten zufrieden. Die Maschine wurde betriebsfertig übernommen.\nWir bescheinigen die Richtigkeit vorstehender Angaben.\nDieser von Ihnen unterschriebene Montagebericht ist die unanfechtbare Grundlage für die Rechnungsstellung gemäß unseren Montagesätzen und Montagebedingungen.\nÜber Garantiefragen entscheidet ausschließlich die Lieferfirma.",
            "en": "We are satisfied with the execution of the work. The machine has been accepted ready for operation.\nWe certify the correctness of the above information.\nThis assembly report signed by you is the incontestable basis for invoicing in accordance with our assembly rates and assembly conditions.\nOnly the supplier company decides on warranty issues."
          }
        }

      }
    },
    "07-signatureTechnician": {
      "isForm": true,
      "ui": "CARD",
      "initialExpand": false,
      "cardHeadline": {
        "en": "Signature acp systems AG",
        "de": "Unterschrift acp systems AG"
      },
      "stateIndicator": true,
      "width": 0.5,
      "unbreakable": true,
      "hasNextStep": true,
      "children": {
        "signature_technician": {
          "fieldType": "REMBERG_SIGNATURE",
          "label": {
            "de": "acp systems AG",
            "en": "acp systems AG"
          },
          "hiddenInPdf": false,
          "showTime": false,
          "autofillCurrentUser": true,
          "required": true
        }
      }
    },
    "08-signatureCustomer": {
      "isForm": true,
      "ui": "CARD",
      "initialExpand": false,
      "cardHeadline": {
        "en": "Signature Customer",
        "de": "Unterschrift Kunde"
      },
      "stateIndicator": true,
      "width": 0.5,
      "unbreakable": true,
      "hasNextStep": true,
      "children": {
        "signature_customer": {
          "hiddenInPdf": false,
          "showTime": false,
          "fieldType": "REMBERG_SIGNATURE",
          "label": {
            "de": "Kunde",
            "en": "Customer"
          },
          "required": true
        }
      }
    },
    "11-send": {
      "isForm": true,
      "ui": "CARD",
      "initialExpand": false,
      "cardHeadline": {
        "en": "Send/sent form as E-Mail",
        "de": "Bericht als E-Mail senden/gesendet"
      },
      "stateIndicator": true,
      "hiddenInPdf": true,
      "hasNextStep": true,
      "children": {
        "send2": {
          "fieldType": "REMBERG_SEND",
          "label": {
            "de": "Gesendet an",
            "en": "Sent to"
          },
          "prefillConfig": {
            "subject": "Montagebericht - acp systems AG",
            "content": "Diese E-Mail wurde automatisch generiert.\nBitte antworten Sie nicht auf diese E-Mail.\n\nSehr geehrte Damen und Herren,\n\nIm Anhang finden Sie den abgeschlossenen Montagebericht als PDF.\n\nMit freundlichen Grüßen,",
            "to": {
              "currentUser": false
            },
            "cc": {
              "currentUser": false
            },
            "bcc": {
              "currentUser": false
            }
          },
          "required": false
        }
      },
      "messages": {
        "onFinish": [
          {
            "to": "ROOT",
            "actions": [
              {
                "name": "SAVE_TO_BACKEND"
              }
            ]
          }
        ]
      }
    }
  }
}