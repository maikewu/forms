{
    "general": {
        "name": {
            "de": "Servicebericht"
        },
        "confirmation": {
            "isSignatureNeeded": true,
            "popupHeadline": {
                "de": "Unterschrift notwendig"
            },
            "popupDescription": {
                "de": "Bitte unterschreiben Sie das Prüfprotokoll."
            }
        }
    },
    "formStructure": {
        "01-generalInformation": {
            "isForm": true,
            "ui": "CARD",
            "cardHeadline": {
                "de": "Allgemeine Informationen"
            },
            "children": {
                "customer0": {
                    "fieldType": "REMBERG_CUSTOMER_SELECT",
                    "required": true,
                    "label": {
                        "de": "Name des Betreibers"
                    },
                    "customer": {
                        "fieldType": "REMBERG_CUSTOMER_SELECT",
                        "required": true,
                        "label": {
                            "de": "Name des Betreibers"
                        },
                        "messages": {
                            "onChange": [
                                {
                                    "to": "01-generalInformation",
                                    "actions": [
                                        {
                                            "name": "PATCH_DATA",
                                            "_dynamicData": {
                                                "input": {
                                                    "_field": {
                                                        "_field": {
                                                            "_field": {
                                                                "_field": "customer",
                                                                "_propertyName": "customer"
                                                            },
                                                            "_functionName": "GET_ACCOUNT"
                                                        },
                                                        "_propertyName": "company"
                                                    },
                                                    "_propertyName": "billingAddress"
                                                },
                                                "output": {
                                                    "_field": "customerLocation"
                                                }
                                            }
                                        }
                                    ]
                                },
                                {
                                    "to": "01-generalInformation",
                                    "actions": [
                                        {
                                            "name": "PATCH_DATA",
                                            "_dynamicData": {
                                                "input": {
                                                    "_field": "customer",
                                                    "_propertyName": "customer"
                                                },
                                                "output": {
                                                    "_field": "contactPersons",
                                                    "_propertyName": "account"
                                                }
                                            }
                                        }
                                    ]
                                },
                                {
                                    "to": "01-generalInformation",
                                    "actions": [
                                        {
                                            "name": "PATCH_DATA",
                                            "_dynamicData": {
                                                "input": {
                                                    "_field": "customer",
                                                    "_propertyName": "customer"
                                                },
                                                "output": {
                                                    "_field": "asset",
                                                    "_propertyName": "customerFilter"
                                                }
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    "customerLocation": {
                        "fieldType": "REMBERG_ADDRESS",
                        "label": {
                            "de": "Standort der Anlage"
                        },
                        "hideInPdfIfEmpty": true,
                        "messages": {
                            "onChange": [
                                {
                                    "to": "A1-signatureTechnican",
                                    "actions": [
                                        {
                                            "name": "PATCH_DATA",
                                            "_dynamicData": {
                                                "input": {
                                                    "_field": "customerLocation",
                                                    "_propertyName": "city"
                                                },
                                                "output": {
                                                    "_formArray": "signature1",
                                                    "_formArrayIndex": 0,
                                                    "_propertyName": "location"
                                                }
                                            }
                                        }
                                    ]
                                },
                                {
                                    "to": "B1-signatureCustomer",
                                    "actions": [
                                        {
                                            "name": "PATCH_DATA",
                                            "_dynamicData": {
                                                "input": {
                                                    "_field": "customerLocation",
                                                    "_propertyName": "city"
                                                },
                                                "output": {
                                                    "_formArray": "signature2",
                                                    "_formArrayIndex": 0,
                                                    "_propertyName": "location"
                                                }
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    "asset": {
                        "fieldType": "REMBERG_ASSET_SELECT",
                        "label": {
                            "de": "Serialnummer"
                        },
                        "registerAssetChange": true,
                        "required": true
                    },
                    "asset_runningtime": {
                        "fieldType": "INPUT_TEXT",
                        "label": {
                            "de": "Baujahr"
                        },
                        "hideInPdfIfEmpty": true
                    },
                    "serviceTechnicians": {
                        "fieldType": "REMBERG_USER_SELECT",
                        "label": {
                            "de": "FESSMANN Servicetechniker"
                        },
                        "autofillCurrentUser": true
                    },
                    "testDate": {
                        "fieldType": "REMBERG_DATE",
                        "label": {
                            "de": "Prüfdatum"
                        },
                        "autofillCurrentDate": true
                    }
                },
                "messages": {
                    "onLoaded": [
                        {
                            "to": "ROOT",
                            "actions": [
                                {
                                    "name": "PATCH_DATA",
                                    "_dynamicData": {
                                        "input": {
                                            "_field": "ARGS",
                                            "_propertyName": "asset",
                                            "_functionName": "GET_PRODUCT"
                                        },
                                        "output": {
                                            "_field": "asset",
                                            "_propertyName": "product"
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "to": "ROOT",
                            "actions": [
                                {
                                    "name": "PATCH_DATA",
                                    "_dynamicData": {
                                        "input": {
                                            "_field": "ARGS",
                                            "_propertyName": "customer"
                                        },
                                        "output": {
                                            "_field": "asset",
                                            "_propertyName": "customerFilter"
                                        }
                                    }
                                }
                            ]
                        }
                    ]
                }
            },
            "02-testSteps": {
                "isForm": true,
                "ui": "CARD",
                "cardHeadline": {
                    "de": "Prüfschritte"
                },
                "children": {
                    "tasks": {
                        "fieldType": "REMBERG_TASKS",
                        "label": {
                            "de": "Ausgeführte Tätigkeiten"
                        },
                        "required": false
                    },
                    "tasksComment": {
                        "fieldType": "TEXTAREA",
                        "label": {
                            "de": "Kommentar"
                        },
                        "required": false,
                        "minRows": 1
                    }
                }
            },
            "A1-signatureTechnican": {
                "isForm": true,
                "ui": "CARD",
                "width": 0.5,
                "unbreakable": true,
                "cardHeadline": {
                    "de": "Unterschrift Servicetechniker"
                },
                "children": {
                    "subline17": {
                        "fieldType": "HELP_TEXT",
                        "text": {
                            "de": "Die Inspektion ergab Defekte bei folgenden Positionen."
                        },
                        "width": 1
                    },
                    "signature1": {
                        "fieldType": "REMBERG_SIGNATURE",
                        "label": {
                            "de": "Servicetechniker"
                        },
                        "autofillCurrentUser": true,
                        "required": true
                    }
                }
            },
            "A3-send": {
                "isForm": true,
                "ui": "CARD",
                "hiddenInPdf": true,
                "cardHeadline": {
                    "en": "Send/sent form as E-Mail",
                    "de": "Bericht als E-Mail senden/gesendet"
                },
                "children": {
                    "send": {
                        "fieldType": "REMBERG_SEND",
                        "label": {
                            "de": "SENDEN",
                            "en": "SEND"
                        },
                        "prefillConfig": {
                            "subject": "Betreff FESSMANN",
                            "content": "Sehr geehrte Damen und Herren,\n\nanbei erhalten sie ",
                            "to": {
                                "currentUser": false
                            },
                            "cc": {
                                "currentUser": false
                            },
                            "bcc": {
                                "currentUser": false
                            }
                        }
                    }
                }
            },
            "B1-signatureCustomer": {
                "isForm": true,
                "ui": "CARD",
                "width": 0.5,
                "unbreakable": true,
                "cardHeadline": {
                    "de": "Unterschrift Betreiber"
                },
                "children": {
                    "subline17": {
                        "fieldType": "HELP_TEXT",
                        "text": {
                            "de": "Wir erteilen den Auftrag zur Behebung der festgestellten Defekte."
                        },
                        "width": 1
                    },
                    "signature2": {
                        "fieldType": "REMBERG_SIGNATURE",
                        "label": {
                            "de": "Betreiber"
                        }
                    }
                }
            },
            "B2-send": {
                "isForm": true,
                "ui": "CARD",
                "hiddenInPdf": true,
                "cardHeadline": {
                    "en": "Send/sent form as E-Mail",
                    "de": "Bericht als E-Mail senden/gesendet"
                },
                "children": {
                    "send": {
                        "fieldType": "REMBERG_SEND",
                        "label": {
                            "de": "SENDEN",
                            "en": "SEND"
                        },
                        "prefillConfig": {
                            "subject": "Betreff FESSMANN",
                            "content": "Sehr geehrte Damen und Herren,\n\nanbei erhalten sie das letzte Prüfprotokoll ",
                            "to": {
                                "currentUser": false
                            },
                            "cc": {
                                "currentUser": false
                            },
                            "bcc": {
                                "currentUser": false
                            }
                        }
                    }
                }
            },
            "C2-signature_internal": {
                "isForm": true,
                "ui": "CARD",
                "unbreakable": true,
                "required": true,
                "cardHeadline": {
                    "de": "Bescheinigung"
                },
                "children": {
                    "subline17": {
                        "fieldType": "HELP_TEXT",
                        "text": {
                            "de": "Die vorgennanten Defekte wurden behoben."
                        },
                        "width": 1
                    },
                    "signature1": {
                        "fieldType": "REMBERG_SIGNATURE",
                        "label": {
                            "de": "Servicetechniker"
                        },
                        "required": true
                    },
                    "helpText1": {
                        "fieldType": "HELP_TEXT",
                        "text": {
                            "de": "Ein sicherer Betrieb der Anlage ist möglich:"
                        },
                        "width": 1
                    },
                    "checkbox1": {
                        "fieldType": "CHECKBOX",
                        "label": {
                            "de": "Ja"
                        },
                        "width": 0.1,
                        "hideInPdfIfEmpty": true
                    },
                    "checkbox2": {
                        "fieldType": "CHECKBOX",
                        "label": {
                            "de": "Nein, da:"
                        },
                        "width": 0.1,
                        "hideInPdfIfEmpty": true
                    },
                    "note": {
                        "fieldType": "INPUT_TEXT",
                        "label": {
                            "de": "Bemerkung"
                        },
                        "width": 0.9,
                        "hideInPdfIfEmpty": true
                    },
                    "helpText2": {
                        "fieldType": "HELP_TEXT",
                        "text": {
                            "de": "Die Anlage darf betrieben werden:"
                        },
                        "width": 1
                    },
                    "checkbox": {
                        "fieldType": "CHECKBOX",
                        "label": {
                            "de": "Ja"
                        },
                        "width": 0.1,
                        "hideInPdfIfEmpty": true
                    },
                    "checkbox4": {
                        "fieldType": "CHECKBOX",
                        "label": {
                            "de": "Nein, da:"
                        },
                        "width": 0.1,
                        "hideInPdfIfEmpty": true
                    },
                    "note2": {
                        "fieldType": "INPUT_TEXT",
                        "label": {
                            "de": "Bemerkung"
                        },
                        "width": 0.9,
                        "hideInPdfIfEmpty": true
                    },
                    "testDate": {
                        "fieldType": "REMBERG_DATE",
                        "label": {
                            "de": "Nächste Prüfung spätestens"
                        },
                        "autofillCurrentDate": false
                    },
                    "helpText3": {
                        "fieldType": "HELP_TEXT",
                        "text": {
                            "de": "Das Prüfprotokoll sowie das Ergebnis der Prüfung wurden zur Kenntnis genommen."
                        },
                        "width": 1
                    },
                    "signature2": {
                        "fieldType": "REMBERG_SIGNATURE",
                        "label": {
                            "de": "Betreiber"
                        }
                    }
                }
            },
            "C3-send": {
                "isForm": true,
                "ui": "CARD",
                "hiddenInPdf": true,
                "cardHeadline": {
                    "en": "Send/sent form as E-Mail",
                    "de": "Bericht als E-Mail senden/gesendet"
                },
                "children": {
                    "send2": {
                        "fieldType": "REMBERG_SEND",
                        "label": {
                            "de": "SENDEN",
                            "en": "SEND"
                        },
                        "prefillConfig": {
                            "subject": "Servicebericht - Intern",
                            "content": "Sehr geehrte Damen und Herren,\n\nanbei erhalten sie das letzte Prüfprotokoll",
                            "to": {
                                "currentUser": false
                            },
                            "cc": {
                                "currentUser": false
                            },
                            "bcc": {
                                "currentUser": false
                            }
                        }
                    }
                }
            }
        }
    }